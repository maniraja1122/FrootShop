package com.example.frootshopimport android.content.Contextimport android.content.DialogInterfaceimport android.content.Intentimport android.location.LocationManagerimport androidx.appcompat.app.AppCompatActivityimport android.os.Bundleimport android.provider.Settingsimport android.util.Logimport androidx.appcompat.app.AlertDialogimport androidx.lifecycle.ViewModelProviderimport com.example.frootshop.Classes.Fruitsimport com.example.frootshop.Classes.Shopimport com.example.frootshop.MVVM.MainViewModelimport com.example.frootshop.Repository.AuthHelperclass MainActivity : AppCompatActivity() {    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_main)        supportActionBar?.hide()        val manager = getSystemService(Context.LOCATION_SERVICE) as LocationManager        if (!manager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {            checkGPSEnable()        }        if(AuthHelper.auth.currentUser==null){            startActivity(Intent(this,Selector::class.java))            overridePendingTransition(R.anim.slidein, R.anim.slideout)        }        else{            //Read Data from Db and go to Home //TODO                Log.v("mani",AuthHelper.auth.currentUser!!.uid)            AuthHelper.SetUser()            AuthHelper.SetShopList()            startActivity(Intent(this,HomeActivity::class.java))            overridePendingTransition(R.anim.slidein, R.anim.slideout)        }    }    override fun onBackPressed() {    }    private fun checkGPSEnable() {        val dialogBuilder = AlertDialog.Builder(this)        dialogBuilder.setMessage("Your GPS seems to be disabled, do you want to enable it?")            .setCancelable(false)            .setPositiveButton("Yes", DialogInterface.OnClickListener { dialog, id                ->                startActivity(Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS))            })            .setNegativeButton("No", DialogInterface.OnClickListener { dialog, id ->                dialog.cancel()            })        val alert = dialogBuilder.create()        alert.show()    }}